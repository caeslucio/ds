(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"2EAz":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.loadingSpinnerClass=t.spinner=t.summaryClass=t.headingClass=t.confirmationClass=t.containerClass=t.dismissClass=t.modalClass=t.overlayClass=void 0;var o=a("Jqp9"),s=n(a("wXC7")),r=n(a("5TEd")),i=n(a("qp0C")),l=(0,o.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",s.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=l;var c=(0,o.css)("position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:unset;padding:16px 10px 8px;box-shadow:none;border-radius:0;background-color:",s.default.color.white,";font-family:",s.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",s.default.color.black,";z-index:",s.default.zIndex.interstitialModal,";",s.default.breakpoint.small,"{width:450px;left:50%;top:50%;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;padding:16px 0 8px 0;}");t.modalClass=c;var d=(0,o.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",s.default.color.white,";");t.dismissClass=d;var u=(0,o.css)("text-align:center;font-family:",i.default.serifBase,";font-size:",i.default.size(17),";line-height:24px;a{color:",r.default.linkColor,";text-decoration:underline;}",s.default.breakpoint.small,"{font-size:",i.default.size(18),";line-height:29px;}");t.containerClass=u;var p=(0,o.css)("font-style:italic;");t.confirmationClass=p;var f=(0,o.css)("font-weight:bold;");t.headingClass=f;var m=(0,o.css)("font-style:italic;");t.summaryClass=m;var h=(0,o.keyframes)("100%{transform:rotate(360deg);transform-origin:center;}");t.spinner=h;var v=(0,o.css)("opacity:1;position:relative;transition:opacity linear 0.1s;display:block;bottom:5px;width:30px;margin:auto;img{animation:",h," 0.8s steps(10,end) infinite;}");t.loadingSpinnerClass=v},"4O+Z":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("lwsE"));function s(e){try{(window.dataLayer=window.dataLayer||[]).push(e)}catch(e){}}t.default=function e(t){(0,o.default)(this,e);var a=t.clientId,n=t.campaignId,r=t.productCode;this.impression=function(){s({event:"impression",module:{name:"newsletter",context:a,label:n,region:"body|marginalia"},newsletter:{product:r,productName:"Newsletter Lire"}})},this.subscribe=function(){s({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click",status:"success"},module:{name:"newsletters",context:a,label:n,region:"body|marginalia",element:{name:"subscribe",label:""}},newsletter:{product:r,productName:"Newsletter Lire"}})}}},"5sMW":function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(a("q1tI")),r=o(a("17x9")),i=a("Jqp9"),l=n(a("PZVr")),c=s.default.memo((function(e){var t=e.loadingSpinnerClassName;return s.default.createElement("svg",{className:(0,i.cx)(l.loadingSpinnerClass,t),xmlns:"http://www.w3.org/2000/svg",alt:"Loading spinner icon",version:"1.1",width:"30px",height:"30px",viewBox:"-50 -50 100 100"},s.default.createElement("g",{stroke:"black",strokeWidth:"3.75",strokeLinecap:"round"},s.default.createElement("line",{x1:0,y1:-14,x2:0,y2:-30,opacity:"1"}),s.default.createElement("line",{x1:-8.229,y1:-11.33,x2:-17.63,y2:-24.27,opacity:"0.87"}),s.default.createElement("line",{x1:-13.31,y1:-4.326,x2:-28.53,y2:-9.271,opacity:"0.74"}),s.default.createElement("line",{x1:-13.31,y1:4.326,x2:-28.53,y2:9.271,opacity:"0.61"}),s.default.createElement("line",{x1:-8.23,y1:11.33,x2:-17.63,y2:24.27,opacity:"0.48"}),s.default.createElement("line",{x1:0,y1:14,x2:0,y2:30,opacity:"0.37"}),s.default.createElement("line",{x1:8.23,y1:11.33,x2:17.63,y2:24.27,opacity:"0.26"}),s.default.createElement("line",{x1:13.31,y1:4.33,x2:28.53,y2:9.27,opacity:"0.17"}),s.default.createElement("line",{x1:13.31,y1:-4.33,x2:28.53,y2:-9.27,opacity:"0.09"}),s.default.createElement("line",{x1:8.23,y1:-11.33,x2:17.63,y2:-24.27,opacity:"0.02"})))}));c.propTypes={loadingSpinnerClassName:r.default.string},c.defaultProps={loadingSpinnerClassName:void 0};var d=c;t.default=d},"5ugd":function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(a("lwsE")),r=o(a("W8MJ")),i=o(a("a1gu")),l=o(a("Nsbk")),c=o(a("7W2i")),d=n(a("q1tI")),u=o(a("17x9")),p=a("Jqp9"),f=o(a("9rZX")),m=o(a("wXC7")),h=o(a("aanX")),v=n(a("sj7d")),g=a("w6U+"),w=(u.default.func,u.default.node,u.default.string,u.default.shape,u.default.bool,function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=(0,i.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).targetElement=null,a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){f.default.setAppElement("body"),this.targetElement=document.querySelector("#sharedui-modal")}},{key:"componentWillUnmount",value:function(){(0,g.clearAllBodyScrollLocks)()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpen;e.isOpen!==t&&(t?(0,g.disableBodyScroll)(this.targetElement):(0,g.enableBodyScroll)(this.targetElement))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isOpen,n=e.handleClose,o=e.onAfterOpen,s=e.overlayClassName,r=e.className,i=e.dismissClassName,l=e.contentLabel,c=e.role,u=e.shouldFocusAfterRender,g=e.shouldCloseOnOverlayClick,w=e.shouldCloseOnEsc,y=e.shouldReturnFocusAfterClose,b=e.aria,C=e.overlayRef,x=e.contentRef,k=e.closeIconStroke;return d.default.createElement(f.default,{id:"sharedui-modal",isOpen:a,overlayClassName:(0,p.cx)(v.overlayClass,s),className:(0,p.cx)(v.modalClass,r),bodyOpenClassName:v.bodyOpenClass,onAfterOpen:o,onRequestClose:n,contentLabel:l,role:c,shouldFocusAfterRender:u,shouldCloseOnOverlayClick:g,shouldCloseOnEsc:w,shouldReturnFocusAfterClose:y,aria:b,overlayRef:C,contentRef:x,ariaHideApp:!0},t,d.default.createElement("button",{type:"button",className:(0,p.cx)(v.dismissClass,i),onClick:n},d.default.createElement("i",{className:v.dismissIconClass},d.default.createElement(h.default,{stroke:k}),d.default.createElement("span",{className:m.default.a11y.visuallyHidden},"Close Modal"))))}}]),t}(d.Component));w.displayName="Modal",w.defaultProps={onAfterOpen:function(){},overlayClassName:"",className:"",dismissClassName:"",contentLabel:"",role:"dialog",shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,aria:{},overlayRef:function(){},contentRef:function(){},closeIconStroke:"#555"};var y=w;t.default=y},HIgH:function(e,t,a){"use strict";function n(){return"undefined"!=typeof window&&/nytimes\.com$/.test(window.location.hostname)}Object.defineProperty(t,"__esModule",{value:!0}),t.list=function(e){return fetch(function(e){switch(e){case"development":case"staging":return"https://myaccount.stg.nytimes.com/svc/account/newsletter/v1/list";case"production":default:return"https://myaccount.nytimes.com/svc/account/newsletter/v1/list"}}(e),{credentials:"include",mode:n()?"cors":"no-cors"}).then((function(e){var t=e.ok;if("opaque"===e.type)return e;if(!t)throw Error(e.statusText);return e.json()}))},t.subscribe=function(e,t,a,o){return fetch(function(e){switch(e){case"development":case"staging":return"https://nyt-messaging-dev.appspot.com/svc/user/v1/verified/newsletter-subscriptions.json";case"production":default:return"https://nyt-messaging-prd.appspot.com/svc/user/v1/verified/newsletter-subscriptions.json"}}(e),{method:"PUT",credentials:"include",mode:n()?"cors":"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({captcha_token:a,changes:{email:o,product_codes:[t],signup_form_version:"newsletter_updates_v1",update_date_usec:parseInt((new Date).getTime()/1e3,10)}})}).then((function(e){var t=e.ok;if("opaque"===e.type)return e;if(!t)throw Error(e.statusText);return e.json()}))}},JVmE:function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(a("lSNA")),r=o(a("lwsE")),i=o(a("W8MJ")),l=o(a("a1gu")),c=o(a("Nsbk")),d=o(a("PJYZ")),u=o(a("7W2i")),p=n(a("q1tI")),f=(o(a("17x9")),o(a("rfZF")));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var h=function(e){switch(e){case"production":return"https://myaccount.nytimes.com";case"staging":return"https://myaccount.stg.nytimes.com";case"local":return"https://myaccount-sbx.dev.nytimes.com";default:return"https://myaccount.nytimes.com"}},v=function(e){try{(window.dataLayer=window.dataLayer||[]).push(e)}catch(e){console.log("datalayer push error")}},g=function(e){return/^[A-Z]{2,4}$/.test(e)},w=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).state={iframeLoadFailed:!1,validCode:g(a.props.params&&a.props.params.newsletter_code)};var n=Math.ceil(1e6*Math.random());return a.containerId="newsletter-iframe-container-".concat(n),a.formId="newsletter-form-".concat(n),a.host=h(e.env),a.handleIframeLoadFailure=a.handleIframeLoadFailure.bind((0,d.default)(a)),window.NewsletterClients=window.NewsletterClients||[],a}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){if(this.state.validCode){if(!window.NewsletterScript)!function(e){var t=e.src,a=e.scriptLoaded,n=e.handleIframeLoadFailure,o=document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.onload=function(){a&&(window[a]=!0)},o.onerror=function(){n()},document.head.appendChild(o)}({src:"".concat(this.host,"/unified_lire/js/newsletter-client.bundle.js"),scriptLoaded:"NewsletterScript",formId:this.formId,handleIframeLoadFailure:this.handleIframeLoadFailure});window.NewsletterClients.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({hostName:this.host,formId:this.formId,container:"#".concat(this.containerId)},this.props,{type:"newsletter-subscribe"}))}else!function(e){v({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter code invalid",label:e.newsletter_code,url:""}}})}(this.props.params)}},{key:"handleIframeLoadFailure",value:function(){var e;this.setState({iframeLoadFailed:!0}),e={clientId:this.clientId,campaignId:this.campaignId},v({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter iframe load failure",label:"15 second timeout exceeded",url:""}}})}},{key:"render",value:function(){var e,t,a,n,o,s,r,i,l,c,d,u=this.state,m=u.iframeLoadFailed,h=u.validCode,v=this.props.fallbackButtonText;return p.default.createElement("div",{id:this.containerId,name:"newsletter-iframe",style:{minHeight:this.props.initialHeight}},!h&&p.default.createElement(f.default,{href:"https://www.nytimes.com/newsletters"},v),h&&m&&p.default.createElement(f.default,{href:(e={host:this.host,params:this.props.params},t=e.params,a=e.host,n=encodeURIComponent(t.redirect_uri||"https://www.nytimes.com"),o=t.client_id||"unknown-client",s=t.asset,r=t.display,i=void 0===r?"default":r,l=t.campaign_id,c=t.application,d=t.newsletter_code,"".concat(a,"/auth/newsletter-subscribe")+"".concat("?response_type=".concat("cookie")+"&client_id=".concat(o)+"&redirect_uri=".concat(n)+"&display=".concat(i)).concat(s?"&asset=".concat(s):"").concat(l?"&campaign_id=".concat(l):"").concat(c?"&application=".concat(c):"","&newsletter_code=").concat(d))},v))}}]),t}(p.Component);w.displayName="NewsletterSubscribe",w.defaultProps={fallbackButtonText:"Sign up",id:null,className:"",params:{client_id:"shared-ui",redirect_uri:"https://www.nytimes.com"},env:"production",initialHeight:420};var y=w;t.default=y},L0Oe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetReCaptcha=t.executeReCaptcha=t.renderReCaptcha=t.loadReCaptchaScript=void 0;var n="https://www.google.com/recaptcha/api.js?onload=".concat("BFX6JY","&render=explicit");function o(e){var t,a,n,o;return(null==(t=window)?void 0:null==(a=t.vi)?void 0:a.env)?null==(n=window)?void 0:null==(o=n.vi)?void 0:o.env.RECAPTCHA_SITEKEY:"production"===e?"6LevSGcUAAAAAF-7fVZF05VTRiXvBDAY4vBSPaTF":"6LfW9GcUAAAAAKLqQzehfTHHdWrtQf2UcRBOgA-J"}function s(){window.isCaptchaLoaded=!0}t.loadReCaptchaScript=function(){if(!window.BFX6JY){window.BFX6JY=s;var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("script");t.src=n,t.async=!0,t.defer=!0,e.appendChild(t)}};t.renderReCaptcha=function(e,t,a,n){var s,r,i;if(null==(s=window)?void 0:s.isCaptchaLoaded)return null==(r=window)?void 0:null==(i=r.grecaptcha)?void 0:i.render(t,{sitekey:o(e),callback:a,"error-callback":n,size:"invisible",isolated:!0,badge:"none"});throw new Error("Captcha has not loaded")};t.executeReCaptcha=function(e){var t,a;return null==(t=window)?void 0:null==(a=t.grecaptcha)?void 0:a.execute(e)};t.resetReCaptcha=function(e){var t,a;return null==(t=window)?void 0:null==(a=t.grecaptcha)?void 0:a.reset(e)}},PZVr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadingSpinnerClass=void 0;var n=a("Jqp9"),o=a("2EAz"),s=(0,n.css)("margin:0 auto;display:inherit;opacity:1;width:30px;animation:",o.spinner," 0.8s steps(10,end) infinite;");t.loadingSpinnerClass=s},esR4:function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(a("lwsE")),r=o(a("W8MJ")),i=o(a("a1gu")),l=o(a("Nsbk")),c=o(a("7W2i")),d=n(a("q1tI")),u=o(a("17x9")),p=a("Jqp9"),f=o(a("5ugd")),m=o(a("PxMw")),h=o(a("JVmE")),v=o(a("4O+Z")),g=a("HIgH"),w=o(a("5sMW")),y=a("L0Oe"),b=n(a("2EAz")),C=(u.default.func,u.default.string,u.default.shape,u.default.oneOf,u.default.bool,function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=(0,i.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1,isLoggedIn:!1,isLoading:!1,isAlreadySubscribed:!1,view:"initial",windowLocation:"https://www.nytimes.com"},a.wrapperRef=d.default.createRef?d.default.createRef():null,a.setCaptchaRef=function(e){a.captcha=e},a.captchaCallback=function(e){a.handleNewsletterSignup(e),a.setState({view:"confirmation",isLoading:!1}),(0,y.resetReCaptcha)(a.grecaptchaId)},a.captchaErrorCallback=function(){console.error("captcha error")},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t,a;this.wrapperRef&&(this.wrapper=this.wrapperRef.current),window&&this.setState({windowLocation:window.location.origin}),(0,y.loadReCaptchaScript)(),this.tracker=(e=this.props,t=e.params,a=e.productCode,new v.default({clientId:t.client_id,campaignId:t.campaign_id,productCode:a})),this.tracker.impression()}},{key:"componentDidUpdate",value:function(e){var t;if(this.props.user!==e.user&&(null==(t=this.props.user)?void 0:t.email)){var a=this.props,n=a.env,o=a.productCode;this.checkIfSubscribed(n,o)}}},{key:"checkIfSubscribed",value:function(e,t){var a=this,n=this.props.onIsSubscribed;(0,g.list)(e).then((function(e){var o=e.data;((null==o?void 0:o.subscriptions)?o.subscriptions.map((function(e){return e.code})):[]).includes(t)&&(n&&n(),a.setState({view:"subscribed",isAlreadySubscribed:!0}))}))}},{key:"handleClose",value:function(){this.setState({isOpen:!1})}},{key:"renderView",value:function(e){var t=this,a=this.props,n=a.type,o=a.heading,s=a.summary,r=a.confirmationMessage,i=a.alreadySubscribedMessage,l=a.buttonText,c=a.headingClassName,u=a.summaryClassName,f=a.buttonClassName,h=a.confirmationClassName,v=a.loadingSpinnerClassName,g=this.state,y=g.isLoggedIn,C=g.isLoading;switch(e){case"subscribed":return d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{className:(0,p.cx)(b.confirmationClass,h)},i," ",d.default.createElement("a",{href:"https://www.nytimes.com/newsletters"},"See our other newsletters.")));case"confirmation":return this.props.showConfirmationMessage?d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{className:(0,p.cx)(b.confirmationClass,h)},r," ",d.default.createElement("a",{href:"https://www.nytimes.com/newsletters"},"See our other newsletters")," or"," ",d.default.createElement("a",{href:"https://myaccount.nytimes.com/seg/settings"},"manage your email preferences."))):null;case"initial":default:return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",null,o&&d.default.createElement("span",{className:(0,p.cx)(b.headingClass,c)},o,": "),s&&d.default.createElement("span",{className:(0,p.cx)(b.summaryClass,u)},s)),C&&d.default.createElement(w.default,{loadingSpinnerClassName:v}),!C&&(y||"modal"===n)&&d.default.createElement(m.default,{type:"button",theme:"primary",className:f,onClick:function(){return t.buttonClick()}},l))}}},{key:"newsletterSubscribeOnSuccess",value:function(){this.tracker.subscribe(),this.setState({isLoggedIn:!0,view:"confirmation"});var e=this.props.onSuccess;e&&e()}},{key:"renderNewsletterSubscribe",value:function(){var e=this,t=this.props,a=t.params,n=t.env,o=t.lireClassName,s=t.productCode,r=t.user,i=t.onViewChanged,l=this.state.windowLocation;return Object.assign(a,{newsletter_code:s,redirect_uri:l}),r?d.default.createElement(d.default.Fragment,null,d.default.createElement(h.default,{onSuccess:function(){return e.newsletterSubscribeOnSuccess()},onError:function(e){return console.error(e)},fallbackButtonText:"Sign Up",onViewChanged:i,env:n,params:a,initialHeight:140,className:o})):null}},{key:"renderNewsletterSubscribeModal",value:function(){var e=this,t=this.state.isOpen,a=this.props,n=a.overlayClassName,o=a.modalClassName,s=a.dismissClassName,r=a.closeIconStroke,i=a.modalHeaderText,l=a.modalHeaderTextClassName;return d.default.createElement(f.default,{isOpen:t,handleClose:function(){return e.handleClose()},overlayClassName:(0,p.cx)(b.overlayClass,n),className:(0,p.cx)(b.modalClass,o),dismissClassName:(0,p.cx)(b.dismissClass,s),contentLabel:"Log in and Registration",role:"dialog",closeIconStroke:r,shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},i&&d.default.createElement("span",{className:(0,p.cx)(b.summaryClass,l)},i),this.renderNewsletterSubscribe())}},{key:"renderLire",value:function(){switch(this.props.type){case"modal":return this.renderNewsletterSubscribeModal();case"inline":default:return this.renderNewsletterSubscribe()}}},{key:"showAlreadySubscribedMessage",value:function(){var e=this.props.showAlreadySubscribedMessage,t=this.state.isAlreadySubscribed;return e&&t}},{key:"showView",value:function(){var e=this.state,t=e.isLoggedIn;return!e.isAlreadySubscribed||!t||this.showAlreadySubscribedMessage()}},{key:"handleNewsletterSignup",value:function(e){var t=this,a=this.props,n=a.env,o=a.onSuccess,s=a.productCode,r=a.user.email;this.setState({isOpen:!1,view:"confirmation"}),(0,g.subscribe)(n,s,e,r).then((function(e){t.setState({isOpen:!1,view:"confirmation"}),t.tracker.subscribe(),o&&o(e)}))}},{key:"buttonClick",value:function(){var e=this.props,t=e.onClick,a=e.user,n=e.env,o=e.onLoading,s=this.state.isLoggedIn;if(a&&s)try{o&&o(),this.setState({isLoading:!0}),this.grecaptchaId=(0,y.renderReCaptcha)(n,this.wrapper,this.captchaCallback,this.captchaErrorCallback),(0,y.executeReCaptcha)(this.grecaptchaId)}catch(e){this.captchaErrorCallback()}else this.setState({isOpen:!0});t&&t()}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,a=e.productCode,n=this.state,o=n.isLoggedIn,s=n.view;return this.showView()||this.showAlreadySubscribedMessage()?d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{id:a,ref:this.wrapperRef||this.setWrapper}),d.default.createElement("div",{className:(0,p.cx)(b.containerClass,t)},this.renderView(s)),!o&&this.renderLire()):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a;return(null==e?void 0:null==(a=e.user)?void 0:a.email)&&!t.isLoggedIn?{isLoggedIn:!0}:null}}]),t}(d.Component));C.displayName="LireEmailSignup",C.defaultProps={user:null,type:"inline",env:"production",buttonText:"Sign Up",confirmationMessage:"Thank you for signing up.",alreadySubscribedMessage:"You are already subscribed!",showAlreadySubscribedMessage:!1,showConfirmationMessage:!0,heading:null,summary:null,containerClassName:"",headingClassName:"",summaryClassName:"",confirmationClassName:"",buttonClassName:"",overlayClassName:"",modalClassName:"",dismissClassName:"",lireClassName:"",loadingSpinnerClassName:"",closeIconStroke:"#555",modalHeaderText:"",modalHeaderTextClassName:"",onLoading:function(){},onIsSubscribed:function(){},onSuccess:function(){},onClick:function(){},onViewChanged:function(){},params:{client_id:"shared-ui",asset:"shared-ui",response_type:"cookie"}};var x=C;t.default=x},rfZF:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("Jqp9"),s=n(a("wXC7")),r=(0,o.styled)("a",{target:"e1nrks9p0"})("display:block;background-color:",(function(e){return e.color||"#333"}),";border-radius:3px;text-align:center;font-family:",s.default.font.franklinBase,";font-weight:",s.default.font.weight.bold,";font-size:1em;line-height:2.5em;height:2.5em;color:white;width:8em;margin:0 auto;");t.default=r},sj7d:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.dismissIconClass=t.dismissClass=t.modalClass=t.overlayClass=t.bodyOpenClass=void 0;var o=a("Jqp9"),s=n(a("wXC7")),r=(0,o.css)("position:fixed;width:100%;overflow:hidden;");t.bodyOpenClass=r;var i=(0,o.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",s.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=i;var l=(0,o.css)("position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:100%;box-shadow:none;border-radius:0;background-color:",s.default.color.white,";font-family:",s.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",s.default.color.black,";z-index:",s.default.zIndex.interstitialModal,";",s.default.breakpoint.small,"{width:450px;left:50%;top:50%;right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);}");t.modalClass=l;var c=(0,o.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",s.default.color.white,";");t.dismissClass=c;var d=(0,o.css)("display:block;width:15px;height:15px;");t.dismissIconClass=d},"w6U+":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.enableBodyScroll=t.clearAllBodyScrollLocks=t.disableBodyScroll=void 0;var o=n(a("RIqP")),s=!1;if("undefined"!=typeof window){var r={get passive(){s=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var i,l,c="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),d=[],u=!1,p=-1,f=function(e){return d.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},m=function(e){var t=e||window.event;return!!f(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},h=function(){setTimeout((function(){void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==i&&(document.body.style.overflow=i,i=void 0)}))};t.disableBodyScroll=function(e,t){if(c){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!d.some((function(t){return t.targetElement===e}))){var a={targetElement:e,options:t||{}};d=[].concat((0,o.default)(d),[a]),e.ontouchstart=function(e){1===e.targetTouches.length&&(p=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var a=e.targetTouches[0].clientY-p;!f(e.target)&&(0===(null==t?void 0:t.scrollTop)&&a>0?m(e):function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&a<0?m(e):e.stopPropagation())}(t,e)},u||(document.addEventListener("touchmove",m,s?{passive:!1}:void 0),u=!0)}}else{!function(e){setTimeout((function(){if(void 0===l){var t=!0==!!(null==e?void 0:e.reserveScrollBarGap),a=window.innerWidth-document.documentElement.clientWidth;t&&a>0&&(l=document.body.style.paddingRight,document.body.style.paddingRight="".concat(a,"px"))}void 0===i&&(i=document.body.style.overflow,document.body.style.overflow="hidden")}))}(t);var n={targetElement:e,options:t||{}};d=[].concat((0,o.default)(d),[n])}};t.clearAllBodyScrollLocks=function(){c?(d.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),u&&(document.removeEventListener("touchmove",m,s?{passive:!1}:void 0),u=!1),d=[],p=-1):(h(),d=[])};t.enableBodyScroll=function(e){if(c){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,d=d.filter((function(t){return t.targetElement!==e})),u&&0===d.length&&(document.removeEventListener("touchmove",m,s?{passive:!1}:void 0),u=!1)}else 1===d.length&&d[0].targetElement===e?(h(),d=[]):d=d.filter((function(t){return t.targetElement!==e}))}}}]);
//# sourceMappingURL=vendors~capsule~newsletter~newsletters~story~weekender-3ab38fa617d516839ffa.js.map