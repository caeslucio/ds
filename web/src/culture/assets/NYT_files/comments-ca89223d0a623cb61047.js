(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"9onL":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var o=n("Jqp9"),i=n("wXC7"),a=n.n(i),r=Object(o.css)("border:1px solid ",a.a.color.gray60,";border-radius:3px;color:",a.a.color.black,";font-family:",a.a.font.franklinBase,";font-size:",a.a.font.size(15),";line-height:",a.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",a.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",a.a.color.red10,";display:inline-block;")},GUXu:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return h})),n.d(o,"defaultClass",(function(){return b}));var i=n("pVnL"),a=n.n(i),r=n("QILm"),c=n.n(r),s=(n("17x9"),n("q1tI")),l=n.n(s),d=n("Jqp9"),m=n("wXC7"),u=n.n(m),p=Object(d.css)("background:none;border:none;color:",u.a.color.linkColor,";font-family:",u.a.font.franklinBase,";font-size:",u.a.font.size(13),";line-height:",u.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",u.a.font.weight.mediumBold,";}"),h=Object(d.css)("button&,a{",p,";}"),b=Object(d.css)("button&,a{",p,";color:",u.a.color.gray40,";padding-bottom:4px;}");n.d(t,"a",(function(){return g}));var g={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},v=function(e){var t=e.children,n=e.onClick,i=e.theme,r=c()(e,["children","onClick","theme"]),s=o["".concat(i,"Class")];return n?l.a.createElement("button",a()({type:"button",tabIndex:0,className:s,onClick:n},r),t):l.a.createElement("span",a()({className:s},r),t)};v.displayName="TextButton",v.defaultProps={children:null,onClick:null,theme:g.DEFAULT};t.b=v},Id00:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=(n("17x9"),n("q1tI"),n("+4HN")),r=n("WXMI"),c=function(e){var t=e.children;return i()(a.b,{url:r.b},void 0,t)};c.displayName="LoginLink",t.a=c},dB5h:function(e,t){e.exports="/vi-assets/static-assets/icon-t-logo-16x16-333333-b4a149d323fc80fdbecfa988cc290882.svg"},izyI:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=n("lSNA"),r=n.n(a),c=(n("q1tI"),n("Jqp9")),s=(n("17x9"),n("Oyvg"),n("ZKN5")),l=n("wXC7"),d=n.n(l),m=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",d.a.color.gray50,";color:",d.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",d.a.color.gray80,";}"),u=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),p=function(e){return e&&u.test(e)?null:e},f="medium",h="small";function b(e){var t=e.url,n=e.title,o=e.size,a=e.placeholder,r=p(t);return i()("div",{className:Object(c.cx)(o,{placeholder:a}),"aria-hidden":"true"},void 0,r&&i()("img",{className:m,alt:n,src:r}),!r&&i()("span",{className:m},void 0,n.substr(0,1)))}b.displayName="UserHeader",b.defaultProps={size:f,title:"",url:null,placeholder:!1};var g,v=Object(s.a)(b),y=(n("SMB2"),Object(c.css)("display:flex;font-size:",d.a.font.size(15),";margin-bottom:5px;width:100%;")),O=Object(c.css)("flex-grow:2;"),x=Object(c.css)("margin-left:10px;"),w=Object(c.css)("font-weight:",d.a.font.weight.bold,";"),I=Object(c.css)("color:",d.a.color.gray35,";font-size:",d.a.font.size(14),";font-weight:",d.a.font.weight.light,";line-height:",d.a.font.size(17),";margin-top:3px;a{color:",d.a.color.gray35,";font-family:",d.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}"),j=Object(c.css)(".",w,"{background:",d.a.color.gray80,";height:10px;width:162px;}.",I,"{background:",d.a.color.gray80,";height:10px;margin-top:4px;width:100px;}");n.d(t,"a",(function(){return C}));var C={MEDIUM:"medium",SMALL:"small"},k=(g={},r()(g,C.MEDIUM,f),r()(g,C.SMALL,h),g);function N(e){var t=e.title,n=e.subtitle,o=e.avatarUrl,a=e.secondaryContent,r=e.size,s=e.avatarTitle;return e.placeholder?i()("div",{className:Object(c.cx)(y,j)},void 0,i()(v,{size:k[r],placeholder:!0}),i()("div",{className:O},void 0,i()("div",{className:w}),i()("div",{className:I}))):i()("div",{className:y},void 0,i()(v,{title:s||t,url:o,size:k[r]}),i()("div",{className:O},void 0,i()("div",{className:w},void 0,t),n&&i()("div",{className:I},void 0,n)),a&&i()("div",{className:x},void 0,a))}N.displayName="UserHeader",N.defaultProps={title:"",subtitle:null,avatarUrl:null,secondaryContent:null,size:C.M,avatarTitle:null,placeholder:!1};t.b=N},mLxj:function(e,t){e.exports="/vi-assets/static-assets/icon-t-logo-16x16-white-ad841ea17addc275d2a0d56571eefb0c.svg"},vAfL:function(e,t,n){"use strict";n.r(t);var o=n("VkAN"),i=n.n(o),a=n("gcR/"),r=n.n(a),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("QS0n")),d=n("Dugd"),m=n.n(d),u=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),h=n("lSNA"),b=n.n(h),g=(n("OG14"),n("lwsE")),v=n.n(g),y=n("W8MJ"),O=n.n(y),x=n("a1gu"),w=n.n(x),I=n("Nsbk"),j=n.n(I),C=n("7W2i"),k=n.n(C),N=n("X6oL"),T=n.n(N),R=n("cr+I"),z=n.n(R),E=n("Vg22"),P=n("wXC7"),S=n.n(P),A=n("aanX"),L=n.n(A),M=n("f+2V"),U=n("Jqp9"),B=n("hKNt"),F=n("a9ya"),H=n("e0Jg"),_=n("RIqP"),D=n.n(_),G=n("cFmA"),V=n("f81r"),X=n("uyHG"),W=n.n(X),q=n("2oaX"),J=(W()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),W()((function(e,t,n){var o;return null==e?void 0:null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(q.b)(t,e).attributes.text.length<=n}))})),n("HAE/"),n("WLL4"),n("jm62"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("f3/d"),n("dlEz")),K=n("7FfI"),Q=n("izyI"),Y=(n("SMB2"),n("9onL")),Z=Object(U.css)("padding-top:10px;"),$=Object(U.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(17),";h6{color:#589714;font-weight:",S.a.font.weight.bold,";}"),ee=Object(U.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(18),";background:",S.a.color.gray90,";margin-top:15px;padding:15px;"),te=Object(U.css)(Y.c,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";");function ne(e){var t=e.avatarUrl,n=e.commentNotify,o=e.displayName,i=e.location,a=e.text,c=e.isReply,s=n?V.a.waitingOnApprovalNotify:V.a.waitingOnApproval;return r()("div",{className:Object(U.cx)(b()({},Z,c))},void 0,r()("div",{className:$},void 0,r()("h6",{},void 0,V.a.submissionThanks),s),r()("div",{className:ee},void 0,r()(Q.b,{size:Q.a.SMALL,title:o,avatarUrl:t,subtitle:"".concat(i," | ").concat(V.a.pendingApproval)}),r()("div",{className:te},void 0,a)))}ne.displayName="SubmittedComment",ne.defaultProps={avatarUrl:null,isReply:!1};var oe=Object(E.connect)((function(e,t){var n=e.profile.data;return{displayName:n.displayName,location:n.location,avatarUrl:n.picURL,email:n.email,commentNotify:Boolean(n.comment_notify),text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(ne),ie=n("InUh"),ae=n.n(ie);function re(){var e=i()(["\n    fragment CommentEntry_article on Article {\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      url\n    }\n  "]);return re=function(){return e},e}var ce=ae()((function(){return Promise.all([n.e(0),n.e(14),n.e(31)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),se=Object(U.css)("position:relative;");function le(e){var t=e.replyToCommentId,n=e.article;return r()("div",{className:se},void 0,r()(ce,{article:n,replyToCommentId:t}))}le.displayName="CommentEntry",le.defaultProps={replyToCommentId:void 0},le.fragments={article:m()(re())};var de=Object(E.connect)()(le),me=Object(U.css)("font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.light,";line-height:",S.a.font.size(16),";margin-top:15px;h4{color:",S.a.color.gray35,";text-transform:uppercase;}"),ue=Object(U.css)("border-left:2px solid ",S.a.color.gray70,";padding-left:15px;"),pe=Object(U.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),fe=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,i=e.fetchReplies,a=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return r()("div",{className:me},void 0,r()("h4",{},void 0,t," ",t>1?V.a.replies:V.a.reply),r()("div",{className:ue,"aria-live":"polite"},void 0,n.map((function(e){return r()(ct,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&r()("button",{type:"button",className:pe,onClick:i},void 0,a?V.a.loading:V.a.viewAllReplies))};fe.displayName="ReplyList",fe.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var he=fe,be=n("OO03"),ge=n("HUmG"),ve=n("mFn4"),ye=n.n(ve),Oe=n("Id00"),xe=n("GUXu");function we(e){var t=e.user,n=e.hasUserRecommended,o=e.recommendedCount,i=e.unrecommendComment,a=e.recommendComment,c=Object(N.useTracking)(),s=n?V.a.recommended:V.a.recommend,l=o>0?"".concat(o," ").concat(s):s;return Object(ge.e)(t)?r()(xe.b,{theme:xe.a.SECONDARY,onClick:function(){return function(e){n?(c.trackEvent(Object(H.p)(e)),i()):(c.trackEvent(Object(H.j)(e)),a())}(l)}},void 0,l):r()(xe.b,{theme:xe.a.SECONDARY},void 0,r()(Oe.a,{},void 0,l))}we.displayName="RecommendButton",we.defaultProps={user:void 0};var Ie=Object(be.a)(Object(E.connect)((function(e,t){return{recommendedCount:Object(q.e)(e,t.commentId),hasUserRecommended:Object(q.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(B.n)(t.commentId))},unrecommendComment:function(){return e(Object(B.q)(t.commentId))}}}))(we));function je(e){var t=e.user,n=e.openCommentEntry;return Object(ge.e)(t)?r()(xe.b,{theme:xe.a.ACTION,onClick:function(){n()}},void 0,V.a.reply):r()(xe.b,{theme:xe.a.ACTION},void 0,r()(Oe.a,{},void 0,V.a.reply))}je.displayName="ReplyButton",je.defaultProps={user:void 0};var Ce=Object(be.a)(Object(E.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(B.m)(t.replyToCommentId))}}}))(je));function ke(e){var t=e.commentId,n=e.isNested,o=e.numReplies,i=e.replyToAuthorName,a=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,m=Object(l.useHistory)(),u=Object(l.useLocation)(),p=!n&&a&&i&&s;if(p)return r()("span",{},void 0,p&&r()(xe.b,{theme:xe.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:m,location:u},a)}},void 0,V.a.inReplyTo," ",i));if(c){var h="".concat(o," ").concat(o>1?V.a.replies:V.a.reply);return r()(xe.b,{theme:xe.a.ACTION,onClick:d},void 0,h)}return s?r()(Ce,{replyToCommentId:t}):null}ke.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies:function(){return null}};var Ne=Object(E.connect)((function(e,t){return{numReplies:Object(q.d)(e,t.commentId),replyToCommentId:Object(q.h)(e,t.commentId),replyToAuthorName:Object(q.g)(e,t.commentId)}}))(ke),Te=n("7WMn"),Re=function(e){var t=e.sourceId,n=e.commentId;if(!e.userIsModerator)return null;return r()(xe.b,{onClick:function(){var e=Object(Te.b)()===Te.a.PRD?"prd":"dev",o="https://moderator-dashboard.".concat(e,".nyt.net/articles/article_").concat(t,"/comments/").concat(n);window.open(o)}},void 0,"Moderate")};Re.displayName="InternalUseOnlyModerateButton";var ze=Re,Ee=Object(U.css)("margin:20px 0 15px;font-family:",S.a.font.franklinBase,";font-size:0.75rem;color:",S.a.color.gray40,";line-height:1;text-align:center;width:100%;"),Pe="".concat(V.a.permalink,": ");function Se(e){var t=e.shortUrl,n=e.commentId,o=e.fetchShortUrl;Object(c.useEffect)((function(){o()}),[o]);var i="#permid=".concat(n),a=Pe+(t?"".concat(t).concat(i):"Loading...");return r()("input",{className:Ee,readOnly:!0,onFocus:function(e){var t=e.target;t.focus(),window.setTimeout((function(){t.setSelectionRange(Pe.length,t.value.length)}),0)},value:a})}Se.displayName="Permalink",Se.defaultProps={shortUrl:null};var Ae=Object(E.connect)((function(e,t){return{shortUrl:Object(q.j)(e,t.commentId)}}),(function(e,t){return{fetchShortUrl:function(){return e(Object(B.j)(t.commentId))}}}))(Se),Le=Object(U.css)("a,button{background:none;border:none;color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(13),";line-height:",S.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),Me=Object(U.css)("margin-right:0;float:right;a,button{color:",S.a.color.gray40,";}"),Ue=ae()((function(){return Promise.all([n.e(0),n.e(14),n.e(31)]).then(n.bind(null,"2XQA"))}),{loadableGenerated:{webpack:function(){return["2XQA"]},modules:["../FlagForm"]}});function Be(e){var t=e.commentId,n=e.viewId,o=e.sourceId,i=e.isNested,a=e.shouldHideReplies,c=e.isAcceptingComments,s=e.handleShowReplies,l=e.userIsModerator,d=e.user,m=Object(ge.e)(d);return r()("div",{},void 0,r()("div",{className:Le},void 0,r()(ze,{userIsModerator:l,commentId:t,sourceId:o}),r()(Ne,{handleShowReplies:s,shouldHideReplies:a,isAcceptingComments:c,viewId:n,commentId:t,isNested:i}),r()(Ie,{commentId:t}),r()(ye.a,{width:400,ariaLabel:"Share permalink",arrowPosition:"top",buttonContent:V.a.share,modalContent:r()(Ae,{commentId:t})}),r()("div",{className:Me},void 0,m&&r()(ye.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:Me,buttonContent:V.a.flag,modalContent:r()(Ue,{commentId:t})}),!m&&r()(Oe.a,{},void 0,V.a.flag))))}Be.displayName="Toolbar",Be.defaultProps={viewId:null,user:void 0};var Fe,He,_e,De,Ge,Ve=Object(be.a)(Be),Xe=n("dB5h"),We=n.n(Xe),qe=n("mLxj"),Je=n.n(qe),Ke=Object(U.css)("border-bottom:1px solid ",S.a.color.gray60,";font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),Qe=Object(U.css)(Y.c,";margin-left:40px;"),Ye=Object(U.css)("& > *{&::before{color:",S.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),Ze=Object(U.css)("white-space:nowrap;"),$e=Object(U.css)("display:inline-block;float:right;font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.bold,";line-height:",S.a.font.size(18),";white-space:nowrap;",S.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('",We.a,"');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),et=Object(U.css)("border-radius:50%;height:18px;width:18px;background-color:",S.a.color.black,";background-image:url('",Je.a,"');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;"),tt=Object(U.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";overflow-x:hidden;a{color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",Y.c,";}"),nt=Object(U.css)("font-size:",S.a.font.size(12),";line-height:",S.a.font.size(15),";color:",S.a.color.red10,";margin-top:5px;"),ot=Object(U.css)("margin-top:15px;"),it=Object(U.css)("border:none;padding-bottom:0;.",Qe,"{margin-left:36px;}"),at=Object(U.css)("margin-top:10px;");function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ct=(Fe=T()((function(e){return Object(H.c)(e.commentId)})),He=Object(E.connect)((function(e,t){var n,o=Object(q.b)(e,t.commentId);if(!o)return{error:!0};var i=o.attributes.authorPanel,a=Object(q.h)(e,t.commentId),r={profile:{name:i.name,location:i.location,avatarUrl:i.avatar,title:i.title},isoTimestamp:o.attributes.sourceApprovedAt,isHighlighted:Boolean(o.attributes.isHighlighted),isReporterReply:Boolean(o.attributes.isReporterReply),replyToCommentId:a,hasSubmittedReply:t.commentId in e.commentEntry.submittedComments,text:o.attributes.text,isFlagged:Object(q.k)(e,t.commentId),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(q.d)(e,t.commentId),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(r.isFetchingReplies=o.relationships.replies.isFetchingReplies,r.replies=Object(q.c)(e,t.commentId)||[]),r})),Object(u.a)(_e=Object(l.withRouter)(_e=Fe(_e=He((Ge=De=function(e){function t(){var e,n;v()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=w()(this,(e=j()(t)).call.apply(e,[this].concat(i)))).state={shouldHideReplies:(n.props.viewId===F.d.HIGHLIGHTED||n.props.viewId===F.d.RECOMMENDED)&&0!==n.props.numTotalReplies},n.fetchReplies=function(){var e=n.props,t=e.tracking,o=e.articleId,i=e.commentId,a=e.replies,r=e.dispatch;n.props.viewId===F.d.REPORTER_REPLIES?r(Object(B.g)(o,i)):r(Object(B.i)(o,i,a.length)),t.trackEvent(Object(H.e)(V.a.viewAllReplies))},n.handleShowReplies=function(){n.props.numTotalReplies>0&&0===n.props.replies.length&&n.fetchReplies(),n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,{shouldHideReplies:!1}))},n.selectSingleComment=function(e){e.preventDefault();var t=n.props,o=t.commentId,i=t.replyToCommentId,a=t.tracking,r=t.viewId;a.trackEvent(Object(H.l)(r,F.d.SINGLE_COMMENT)),i?Object(f.f)({history:n.props.history,location:n.props.location},i,o):Object(f.f)({history:n.props.history,location:n.props.location},o)},n.getTimeStamp=function(){var e=n.props,t=e.isoTimestamp,o=e.viewId,i=r()(J.a,{iso:t,formatter:"elapsed"});return o===F.d.SINGLE_COMMENT?i:r()("a",{href:"",onClick:n.selectSingleComment,className:Ze},void 0,i)},n}return k()(t,e),O()(t,[{key:"render",value:function(){if(this.props.error)return null;this.props.isReporterReply&&null!=this.props.profile.title&&(this.props.profile.location=this.props.profile.title);var e=this.props,t=e.profile,n=e.commentId,o=e.isFlagged,i=e.isHighlighted,a=e.isNested,c=e.isReporterReply,s=e.viewId,l=e.totalComments,d=e.commentIndex,m=e.numTotalReplies,u=e.isAcceptingComments,p=e.replies,f=e.isFetchingReplies,h=e.hasSubmittedReply,g=e.userIsModerator,v=e.sourceId,y=e.articleId,O=this.state.shouldHideReplies,x=Object(K.formatDate)(this.props.isoTimestamp,"elapsed","en",!0),w="".concat(t.name," commented ").concat(x),I=!a&&!!m&&!O,j=this.getTimeStamp();return r()("div",{className:Object(U.cx)(Ke,b()({},it,a)),role:"article",tabIndex:0,"aria-setsize":l,"aria-posinset":d,"aria-labelledby":"comment-description-".concat(d),"aria-describedby":"comment-content-".concat(d)},void 0,r()("a",{className:Object(U.cx)(S.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(d),"aria-label":w,tabIndex:-1},void 0,w),r()(Q.b,{avatarTitle:t.name,title:r()("span",{},void 0,t.name,c&&r()("div",{className:et})),avatarUrl:t.avatarUrl,subtitle:r()("span",{className:Ye},void 0,t.location&&r()("span",{dangerouslySetInnerHTML:{__html:t.location}}),j),secondaryContent:i&&r()("div",{className:$e},void 0,V.a.timesPick),size:a?Q.a.SMALL:Q.a.MEDIUM}),r()("div",{className:Qe},void 0,r()("p",{id:"comment-content-".concat(d),className:tt,dangerouslySetInnerHTML:{__html:this.props.text}}),o&&r()("div",{className:nt},void 0,V.a.reported),!o&&r()("div",{className:ot},void 0,r()(Ve,{viewId:s,commentId:n,sourceId:v,isNested:a,handleShowReplies:this.handleShowReplies,shouldHideReplies:O,isAcceptingComments:u,userIsModerator:g}),this.props.commentEntryReplyToCommentId===n&&r()("div",{className:at},void 0,r()(de,{replyToCommentId:n})),h&&r()(oe,{isReply:!0,replyToCommentId:n}),I&&r()(he,{viewId:s,replies:p,numTotalReplies:m,fetchReplies:this.fetchReplies,isFetchingReplies:f,isAcceptingComments:u,sourceId:v,articleId:y}))))}}]),t}(c.Component),De.defaultProps={replyToCommentId:null,commentEntryReplyToCommentId:null,error:!1,isNested:!1,isReporterReply:!1,totalComments:0,commentIndex:0,replies:[],isFetchingReplies:!1,userIsModerator:!1,numTotalReplies:void 0,dispatch:function(){return null},hasSubmittedReply:void 0},_e=Ge))||_e)||_e)||_e)||_e),st=(n("dRSK"),n("J4zp")),lt=n.n(st),dt=n("/J+c"),mt=n.n(dt),ut=Object(U.css)("color:",S.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),pt=Object(U.css)("cursor:pointer;display:inline-block;"),ft=Object(U.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),ht=Object(U.css)("background-color:",S.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",S.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",S.a.color.black,";padding:10px;&:hover{background-color:",S.a.color.gray90,";}}"),bt=Object(U.css)("font-weight:",S.a.font.weight.mediumBold,";");function gt(e){var t=e.articleId,n=e.listId,o=e.sortOptions,i=e.sortCommentList,a=e.selectedSortType,l=Object(N.useTracking)(),d=Object(c.useRef)(null),m=Object(c.useRef)(null),u=Object(c.useState)(!1),p=lt()(u,2),f=p[0],h=p[1];Object(c.useEffect)((function(){var e=function(e){null!=d.current&&d.current.contains(e.target)||h(!1)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]);var g=function(){h(!f)},v=function(e,o){o.preventDefault(),e!==a&&(i(t,n,e),l.trackEvent(Object(H.m)(e))),g(),m.current&&m.current.focus()};if(0===o.length)return null;var y=o.find((function(e){return e.sortType===a}));return s.a.createElement("div",{className:ut,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:g,onKeyDown:function(e){return Object(M.a)(e,g)},className:pt,ref:m},r()("span",{},void 0,"Sort by: ",y.label),r()("button",{type:"button",className:ft,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,r()(mt.a,{fill:S.a.color.blue20}))),f&&r()("div",{className:ht},void 0,r()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return r()("li",{onClick:function(e){return v(t,e)},onKeyDown:function(e){Object(M.a)(e,(function(){v(t,e)}))},role:"tab",className:Object(U.cx)(b()({},bt,t===a)),"aria-selected":t===a,tabIndex:0},t,n)})))))}gt.displayName="SortOptions",gt.defaultProps={selectedSortType:null};var vt=Object(E.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map((function(e){return{sortType:e,label:F.b[e]}})),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(B.p)(t,n,o))}}}))(gt),yt=Object(U.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(20),";margin-top:20px;"),Ot=Object(U.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),xt=function(e){var t=e.children,n=e.offset,o=e.onEnter,i=e.onExit;if(e.disable||n>t.length)return t;var a=D()(t),c=r()(G.Waypoint,{onEnter:o,onExit:i},"waypointTwo");return a.splice(t.length-n,0,c),a};function wt(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,i=e.selectedSortType,a=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,m=e.commentIds,u=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,h=e.isFetchingNext,b=Object(N.useTracking)();Object(c.useEffect)((function(){t&&n(s,l)}),[t,l,n,s]);var g=u||null===m?V.a.loading:0===m.length?V.a.noComments:null;if(g)return r()("div",{className:yt},void 0,g);var v=V.a.readMore,y=V.a.loading;return r()("div",{role:"feed",tabIndex:-1,"aria-label":V.a.commentList},void 0,i&&r()(vt,{articleId:s,listId:l,viewId:a}),m&&r()(xt,{offset:15,onEnter:function(){return o(s,l)},disable:!f},void 0,m.map((function(e,t){return r()(ct,{tabIndex:0,totalComments:m.length,commentIndex:t+1,articleId:s,viewId:a,isAcceptingComments:p,commentId:e,sourceId:d},e+a)}))),f&&r()("button",{type:"button",className:Ot,onClick:function(){return e=v,b.trackEvent(Object(H.h)(a,e)),void o(s,l);var e},disabled:h},void 0,h?y:v))}wt.displayName="CommentList",wt.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var It=Object(E.connect)((function(e,t){var n,o,i=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),a=function(e,t){return e.commentLists[t]||null}(e,i),r=null,c=!1,s=null;return a&&(r=a.commentIds||null,c=!!a.nextUrl,s=a.selectedSortType||null),{listId:i,commentIds:r,hasNext:c,isFetching:null===(n=e.commentLists[i])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[i])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(B.e)(t,n))},fetchCommentListNext:function(t,n){return e(Object(B.f)(t,n))}}}))(wt),jt=Object(U.css)("margin-top:10px;"),Ct=Object(U.css)("color:",S.a.color.gray20,";font-size:",S.a.font.size(14),";font-weight:",S.a.font.weight.medium,";line-height:",S.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",S.a.color.blue20,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",S.a.breakpoint.medium,"{line-height:",S.a.font.size(20),";}"),kt=Object(U.css)(Y.b,";box-sizing:border-box;color:",S.a.color.gray30,";display:block;font-size:",S.a.font.size(14),";height:42px;line-height:",S.a.font.size(24),";padding-top:11px;"),Nt=Object(U.css)("cursor:text;");function Tt(){var e=i()(["\n    fragment CommentPrompt_article on Article {\n      ...CommentEntry_article\n    }\n    ","\n  "]);return Tt=function(){return e},e}var Rt="https://www.nytimes.com/content/help/site/usercontent/usercontent.html";function zt(e){var t=e.user,n=e.article,o=e.isFetching,i=e.commentQuestion,a=e.isAcceptingComments,c=e.commentEntryReplyToCommentId,s=e.openCommentEntry,l=Object(N.useTracking)();if(o)return null;if(!a)return r()("div",{className:Object(U.cx)(jt,Ct),dangerouslySetInnerHTML:{__html:V.a.commentsClosed}});var d=Object(q.i)(),m=Object(ge.e)(t);if(c===d&&m)return r()("div",{className:jt},void 0,r()(de,{article:n,replyToCommentId:d}));var u=V.a.commentPromptPlaceholder,p=i===u?V.a.welcome:i,f=V.a.moderationDisclaimer;return r()("div",{className:jt},void 0,m&&r()("span",{className:Object(U.cx)(kt,Nt),onClick:s,onKeyPress:s,role:"textbox",tabIndex:"0"},void 0,u),!m&&r()(Oe.a,{},void 0,r()("span",{className:kt},void 0,u)),r()("div",{className:Ct},void 0,p," ",r()("a",{href:Rt,target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=f,void l.trackEvent(Object(H.f)(e));var e}},void 0,f)))}zt.displayName="CommentPrompt",zt.defaultProps={user:void 0,article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0},zt.fragments={article:m()(Tt(),de.fragments.article)};var Et=Object(be.a)(Object(E.connect)((function(e){return{isFetching:e.article.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(B.m)(Object(q.i)()))}}}))(zt)),Pt=Object(U.css)("background:none;border:none;color:",S.a.color.blue20,";font-size:",S.a.font.size(13),";font-weight:",S.a.font.weight.book,";line-height:",S.a.font.size(20),";"),St=Object(U.css)("max-width:300px;text-align:center;"),At=Object(U.css)("font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",St,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",St,"{padding:0;}}");function Lt(e){var t=e.articleId,n=e.sourceId,o=e.commentId,i=e.replyCommentId,a=e.isFetching,s=e.isCommentLoaded,l=e.isAcceptingComments,d=e.fetchComments,m=e.closeView,u=Object(c.useState)(a),p=lt()(u,2),f=p[0],h=p[1];return Object(c.useEffect)((function(){var e=function(){return h(!1)};d(t,o,i?[i]:[]).then(e).catch(e)}),[t,o,d,i]),r()("div",{},void 0,r()("button",{type:"button",className:Pt,onClick:m},void 0,V.a.backToAllComments),s&&r()(ct,{articleId:t,sourceId:n,commentId:o,viewId:F.d.SINGLE_COMMENT,isAcceptingComments:l}),!f&&!s&&r()("div",{className:At},void 0,r()("span",{className:St},void 0,V.a.commentNotFound)))}Lt.displayName="SingleComment",Lt.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,replyCommentId:""};var Mt=Object(E.connect)((function(e,t){var n=Object(q.b)(e,t.commentId);return{isCommentLoaded:Boolean(n)}}),(function(e){return{fetchComments:function(t,n,o){return e(Object(B.g)(t,n,o))}}}))(Lt),Ut=n("+4HN"),Bt=Object(U.css)("font-family:",S.a.font.franklin,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),Ft=Object(U.css)("max-width:300px;p{padding:1em 0;}"),Ht=Object(U.css)("color:",S.a.color.blue20,";"),_t=r()("div",{className:Bt},void 0,r()("div",{className:Ft},void 0,r()("p",{},void 0,"Due to technical difficulties, comments are unavailable. We’re working to fix the issue as soon as possible."),r()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",r()(Ut.b,{className:Ht,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),r()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))),Dt=function(){return _t};Dt.displayName="UnderMaintenance";var Gt=Dt,Vt=(n("84bF"),Object(U.css)("position:relative;")),Xt=Object(U.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),Wt=Object(U.css)("background:",S.a.color.white,";border-bottom:1px solid ",S.a.color.gray60,";box-shadow:0 6px 6px -6px ",S.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",S.a.color.gray35,";display:inline-block;font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";overflow:hidden;white-space:nowrap;",S.a.breakpoint.medium,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}",S.a.breakpoint.extraLarge,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.gray35,";}&.selected{border-bottom:2px solid ",S.a.color.black,";color:",S.a.color.black,";font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.black,";}}}}");function qt(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,i=e.firstTabRef,a=Object(N.useTracking)();return 0===t.length?null:r()("div",{className:Vt},void 0,r()("div",{className:Xt}),r()("div",{className:Wt},void 0,r()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return r()("li",{className:Object(U.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?i:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(a.trackEvent(Object(H.l)(n,e)),o(e))}(c,e)}},l))})))))}qt.displayName="Tabs",qt.defaultProps={tabs:[],selectedViewId:null};var Jt=Object(E.connect)((function(e){return{tabs:e.panel.tabs}}),(function(e){return{selectView:function(t){return e(Object(B.o)(t))}}}))(qt),Kt=n("rI8Z"),Qt=n("kV2j"),Yt=Object(U.css)("color:",S.a.color.black,";display:inline-block;font-weight:",S.a.font.weight.bold,";font-size:",S.a.font.size(30),";line-height:",S.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",S.a.color.gray20,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(24),";line-height:",S.a.font.size(29),";}a:focus{outline:0;}"),Zt=Object(U.css)("color:",S.a.color.blue30,";display:none;font-family:",S.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),$t=Object(U.css)("font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";font-weight:",S.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;");function en(){var e=i()(["\n    fragment Header_article on Article {\n      headline {\n        default\n      }\n    }\n  "]);return en=function(){return e},e}function tn(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,i=e.article;return r()("header",{},void 0,r()("h2",{className:Yt},void 0,r()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Kt.c.comments.commentPanel},void 0,"Comments ",o>0&&r()("span",{},void 0,o))),r()("a",{className:Zt,href:"",onClick:t},void 0,i.headline.default),r()("a",{href:"",className:Object(U.cx)(S.a.a11y.visuallyHidden,S.a.a11y.focusable,$t),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}tn.displayName="Header",tn.defaultProps={commentCount:void 0},tn.fragments={article:m()(en())};var nn,on,an,rn,cn,sn=Object(E.connect)((function(e){return{commentCount:Object(Qt.b)(e)}}))(tn),ln=Object(U.css)("background-color:",S.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",S.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",S.a.zIndex.commentsPanel,";visibility:hidden;transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;",S.a.breakpoint.small,"{width:530px;}"),dn=Object(U.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),mn=Object(U.css)("background-color:",S.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;@media (max-width:",S.a.breakpoint.width.small,"px){right:15px;}"),un=Object(U.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),pn=Object(U.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),fn=Object(U.css)("padding:0 40px;z-index:0;@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}"),hn=Object(U.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",S.a.breakpoint.small,"{padding:0 40px;}");function bn(){var e=i()(["\n    fragment CommentsPanel_article on Article {\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "]);return bn=function(){return e},e}var gn=r()(Gt,{}),vn=(nn=Object(E.connect)((function(e,t){var n,o={viewId:e.panel.viewId},i=Object(f.c)(t.location),a=i.commentId,r=i.replyCommentId;return a&&(o.backToViewId=o.viewId,o.viewId=F.d.SINGLE_COMMENT,o.singleComment={commentId:a,replyCommentId:r}),(null===(n=e.article)||void 0===n?void 0:n.data)&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(q.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(q.i)()in e.commentEntry.submittedComments),o}),(function(e){return{fetchProfile:function(t){return e(Object(B.h)(t))},fetchArticle:function(t,n){return e(Object(B.d)(t,n))}}})),on=T()((function(e){return Object(H.k)(e.viewId)})),Object(l.withRouter)(an=nn(an=on((cn=rn=function(e){function t(){var e,n;v()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=w()(this,(e=j()(t)).call.apply(e,[this].concat(i)))).commentsPanelRef=s.a.createRef(),n.firstTabRef=s.a.createRef(),n.handleOpenPanel=function(){return Object(f.e)({history:n.props.history,location:n.props.location})},n.handleClosePanel=function(){return Object(f.a)({history:n.props.history,location:n.props.location})},n.handleClosePanel=function(){n.props.tracking.trackEvent(Object(H.b)()),n.focusOnSpeechBubble(),Object(f.a)({history:n.props.history,location:n.props.location})},n.handleCloseSingleComment=function(){var e=n.props,t=e.backToViewId;e.tracking.trackEvent(Object(H.l)(F.d.SINGLE_COMMENT,t)),Object(f.b)(n.props)},n.focusOnSpeechBubble=function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}},n.focusOnCommentsPanel=function(){n.commentsPanelRef.current&&setTimeout((function(){return n.commentsPanelRef.current.focus()}),450)},n.skipToCommentList=function(e){e.preventDefault(),n.firstTabRef.current&&setTimeout((function(){return n.firstTabRef.current.focus()}),500)},n.escHandler=function(e){return Object(M.c)(e,n.handleClosePanel)},n}return k()(t,e),O()(t,[{key:"showPanelWithTracking",value:function(){var e,t=this.props,n=t.viewId,o=t.articleId,i=t.tracking,a=t.article.url,r=t.shouldShowPanel,c=t.location.search,s=z.a.parse(c);this.props.fetchProfile(a),this.props.fetchArticle(o,a),this.focusOnCommentsPanel(),"HPCommentsRefer"===s.modref?e=H.a.AUTOOPEN_HOME:"comment-approval"===s.emc?e=H.a.AUTOOPEN_EMAIL_LINK:n===F.d.SINGLE_COMMENT?e=H.a.AUTOOPEN_PERMALINK:r&&(e=H.a.AUTOOPEN),e&&setTimeout((function(){return i.trackEvent(Object(H.i)(e))}),1e3)}},{key:"componentDidMount",value:function(){this.props.shouldShowPanel&&this.showPanelWithTracking(),document.addEventListener("keydown",this.escHandler,!1),window.NYT_openCommentsPanel=this.handleOpenPanel}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escHandler,!1)}},{key:"componentDidUpdate",value:function(e){!e.shouldShowPanel&&this.props.shouldShowPanel&&this.showPanelWithTracking()}},{key:"render",value:function(){var e=this.props,t=e.singleComment,n=e.article,o=e.articleId,i=e.viewId,a=e.article.sourceId,c=e.shouldShowPanel,l=e.isAcceptingComments,d=e.replyToCommentId,m=e.hasSubmittedParentComment,u=e.isUnderMaintenance,p=!u&&t&&t.commentId,f=!u&&!p;return r()("div",{className:Object(U.cx)(ln,b()({},dn,c)),role:"region","aria-label":"comments panel",tabIndex:-1},void 0,s.a.createElement("button",{ref:this.commentsPanelRef,type:"button",className:mn,onClick:this.handleClosePanel,"aria-label":"close comments panel"},r()(L.a,{tabIndex:0,stroke:S.a.color.gray30})),r()("div",{className:un},void 0,r()("div",{className:pn},void 0,u&&gn,p&&o&&r()("div",{className:fn},void 0,r()(Mt,{tabIndex:0,sourceId:a,articleId:o,commentId:t.commentId,replyCommentId:t.replyCommentId,closeView:this.handleCloseSingleComment,isAcceptingComments:l})),f&&r()("div",{},void 0,r()("div",{className:fn},void 0,r()(sn,{article:n,closePanel:this.handleClosePanel,skipToCommentList:this.skipToCommentList}),!m&&r()(Et,{article:n,isAcceptingComments:l}),m&&r()(oe,{replyToCommentId:d})),s.a.createElement("div",{ref:this.commentsListRef,className:hn},r()(Jt,{selectedViewId:i,firstTabRef:this.firstTabRef})),r()("div",{className:fn},void 0,o&&i&&r()(It,{shouldShowPanel:c,isAcceptingComments:l,viewId:i,articleId:o,sourceId:a}))))))}}]),t}(c.Component),rn.defaultProps={hasSubmittedParentComment:void 0,isAcceptingComments:void 0,isUnderMaintenance:void 0,singleComment:void 0,articleId:void 0,viewId:void 0,replyToCommentId:void 0,backToViewId:void 0,location:{},history:{}},an=cn))||an)||an)||an);vn.fragments={article:m()(bn(),Et.fragments.article,sn.fragments.article)};var yn=vn;function On(){var e=i()(["\n    fragment CommentsPanelContainer_article on Article {\n      commentStatus\n      ...CommentsPanel_article\n    }\n    ","\n  "]);return On=function(){return e},e}function xn(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentStatus)?r()(yn,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}xn.fragments={article:m()(On(),yn.fragments.article)};var wn=Object(u.a)(xn);wn.displayName="CommentsPanelContainer";var In=wn;n.d(t,"default",(function(){return In}))}}]);
//# sourceMappingURL=comments-ca89223d0a623cb61047.js.map